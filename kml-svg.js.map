{"version":3,"file":null,"sources":["lib/dom.js","lib/ajax.js","lib/index.js"],"sourcesContent":["/**\n * @module dom\n * Module for easing the manipulation of dom elements\n */\n\nlet classReg = function(c) {\n\treturn new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\");\n};\n\nvar _hasClass, _addClass, _removeClass, _toggleClass;\n\nif ('classList' in document.documentElement) {\n\t_hasClass = function(elem, c) {\n\t\treturn elem.classList.contains(c);\n\t};\n\t_addClass = function(elem, c) {\n\t\tif (c != null) {\n\t\t\tc = c.split(' ');\n\t\t\tfor (var k in c) {\n\t\t\t\tif (c[k] != '') elem.classList.add(c[k]);\n\t\t\t}\n\t\t}\n\t};\n\t_removeClass = function(elem, c) {\n\t\tif (c != null) {\n\t\t\tc = c.split(' ');\n\t\t\tfor (var k in c) {\n\t\t\t\tif (c[k] != '') elem.classList.remove(c[k]);\n\t\t\t}\n\t\t}\n\t};\n} else {\n\t_hasClass = function(elem, c) {\n\t\treturn classReg(c).test(elem.className);\n\t};\n\t_addClass = function(elem, c) {\n\t\tif (!hasClass(elem, c)) {\n\t\t\telem.className = elem.className + ' ' + c;\n\t\t}\n\t};\n\t_removeClass = function(elem, c) {\n\t\telem.className = elem.className.replace(classReg(c), ' ');\n\t};\n}\n\n_toggleClass = function(elem, c) {\n\tif (c != null) {\n\t\tvar fn = _hasClass(elem, c) ? _removeClass : _addClass;\n\t\tfn(elem, c);\n\t}\n};\n\n\nexport let hasClass = _hasClass;\nexport let addClass = _addClass;\nexport let toggleClass = _toggleClass;\nexport let removeClass = _removeClass;\n\nexport default {};","export default (function() {\n\n  // Load a sprite\n    function loadSprite(url, id, cb) {\n        var x = new XMLHttpRequest();\n\n        // If the id is set and sprite exists, bail\n        if (typeof id === 'string' && document.querySelector('#' + id) !== null) {\n            if(typeof cb === 'function') cb(document.querySelector('#' + id));\n            return;\n        }\n\n        x.open('GET', url, true);\n\n        // Inject hidden div with sprite on load\n        x.onload = function() {\n            var c = document.createElement('div');\n            c.setAttribute('hidden', '');\n            if (typeof id === 'string') {\n                c.setAttribute('id', id);\n            }\n            c.innerHTML = x.responseText;\n            document.body.insertBefore(c, document.body.childNodes[0]);\n            if(typeof cb === 'function') cb(c);\n        }\n\n        x.onerror = function(){\n            alert('error');\n        }\n\n        x.send();\n    }\n\n  return loadSprite;\n})();","import {addClass} from './dom';\nimport loadSprite from './ajax';\nconst svgns = \"http://www.w3.org/2000/svg\";\nconst xlinkns = \"http://www.w3.org/1999/xlink\";\n\nexport default class svg{\n\tconstructor(cb){\n\t\tthis.check(cb);\n\t}\n\tcreate(namespace,parent){\n\t\t// Create a <svg> wrapper element\n\t\tvar ws = document.createElementNS(svgns, \"svg\");\n\t\t// Create a <use> element\n\t\tlet use = document.createElementNS(svgns, \"use\");\n\t\t// Add an 'href' attribute (using the \"xlink\" namespace)\n\t\tuse.setAttributeNS(xlinkns, \"href\", \"#\"+namespace);\n\t\tws.appendChild(use);\n\t\tif(parent){\n\t\t\tif(parent.nodeName){\n\t\t\t\taddClass(parent,'kml-icon '+namespace);\n\t\t\t\tparent.appendChild(ws);\n\t\t\t}\n\t\t}\n\t\treturn ws;\n\t}\n\tcheck(cb){\n\t\t//check if \"#kml-icons\" exists. If not use ajax to inject it into the body\n\t\tloadSprite('kml-icons.svg', 'svg-icons',cb);\n\t}\n}\n"],"names":[],"mappings":"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"}